<div style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background-image: url('<%= asset_path('wallpaper8.jpg') %>');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;">
</div>
<div class="container mt-4">

  <div class="card mb-4">
    <div class="card-header">
      <h1 class="mb-0">Message Details</h1>
    </div>
    <div class="card-body">
      <div class="mb-4">
        <h4 class="text-muted">Content</h4>
        <div class="p-3 bg-light rounded">
          <%= @message.body %>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header bg-light">
              <h4 class="mb-0">From User</h4>
            </div>
            <div class="card-body">
              <h5>
                <%= link_to user_path(@message.user), class: "text-decoration-none" do %>
                  <%= @message.user.first_name %> <%= @message.user.last_name %>
                <% end %>
              </h5>
              <p class="text-muted"><%= @message.user.email %></p>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card">
            <div class="card-header bg-light">
              <h4 class="mb-0">In Chat</h4>
            </div>
            <div class="card-body">
              <h5>
                <%= link_to chat_path(@message.chat), class: "text-decoration-none" do %>
                  Chat
                <% end %>
              </h5>
              <p>
                Between
                <%= @message.chat.sender.first_name %> <%= @message.chat.sender.last_name %>
                and
                <%= @message.chat.receiver.first_name %> <%= @message.chat.receiver.last_name %>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-3">
        <p class="text-muted">
          <i class="bi bi-clock"></i>
          Created: <%= @message.created_at.strftime("%B %d, %Y at %H:%M") %>
        </p>
        <div class="d-flex gap-2">
          <%= link_to "Edit", edit_message_path(@message), class: "btn btn-primary" %>
          <%= link_to "Back to Chat", chat_path(@message.chat), class: "btn btn-secondary" %>
          <%= link_to "All Messages", messages_path, class: "btn btn-secondary" %>
          <%= button_to "Delete", @message, method: :delete, class: "btn btn-danger", form: { data: { turbo_confirm: 'Are you sure?' } } %>
        </div>
      </div>
    </div>
  </div>
</div>